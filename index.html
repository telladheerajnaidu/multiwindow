<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Multi-Window Example</title>
</head>
<body>
    <h1>Multi-Window Functionality Test</h1>
    <button id="openWindowButton">Open New Window</button>

    <script>
        document.getElementById('openWindowButton').addEventListener('click', () => {
            const newWindow = window.open('https://example.com', 'NewWindow', 'width=800,height=600');
            
            // Ensure new window is fully loaded
            newWindow.onload = () => {
                console.log('New window loaded:', newWindow.location.href);

                // Adding event listener for requests in the new window
                newWindow.addEventListener('load', () => {
                    // Simulate handling requests
                    console.log('Handling requests in the new window.');
                });
            };

            // Adding event listener for requests in the original window
            window.addEventListener('load', () => {
                // Simulate handling requests
                console.log('Handling requests in the original window.');
            });
        });
    </script>
</body>
</html>
